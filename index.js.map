{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst API_BASE_URL = 'https://pixabay.com/api/';\n// need to remove it to env variables or secured storage\nexport const API_KEY = '49355059-ef28fa3d6cd8d2c420ac797e4';\n\nexport function fetchSearchData(search_phrase) {\n  const request_options = {\n    key: API_KEY,\n    q: search_phrase,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  };\n  const queryParams = new URLSearchParams(request_options).toString();\n  const request_url = `${API_BASE_URL}?${queryParams}`;\n  return fetch(request_url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n\n      return response.json();\n    })\n    .then(data => {\n      if (!data.hits || data.hits.length === 0) {\n        const errorText =\n          'Sorry, there are no images matching your search query. Please try again!';\n        showError(errorText);\n        throw new Error(errorText);\n      }\n      return data.hits;\n    })\n    .catch(error => console.error('Error fetching data:', error));\n}\n\nfunction showError(errorText) {\n  iziToast.show({\n    title: 'Error:',\n    message: errorText,\n    backgroundColor: 'red',\n    titleColor: 'white',\n    messageColor: 'white',\n    position: 'topRight',\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst gallery_config = {\n  captionsData: 'alt',\n  captionDelay: 250,\n};\nconst lightbox = new SimpleLightbox('.gallery a', gallery_config);\n\nexport function renderImageMarkup(images) {\n  lightbox.refresh();\n  if (!images || images.length === 0) {\n    gallery.innerHTML = '';\n    return;\n  }\n\n  const galleryMarkup = images\n    .map(\n      img => `\n    <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${img.largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${img.webformatURL}\"\n          alt=\"${img.tags}\"\n        />\n      </a>\n          <div class=\"image-info\">\n        <p class=\"image-info-text\"><strong>Likes</strong> <span>${img.likes}</span></p>\n        <p class=\"image-info-text\"><strong>Views</strong> <span>${img.views}</span></p>\n        <p class=\"image-info-text\"><strong>Comments</strong> <span>${img.comments}</span></p>\n        <p class=\"image-info-text\"><strong>Downloads</strong> <span>${img.downloads}</span></p>\n      </div>\n    </li>\n  `\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', galleryMarkup);\n}\n","import { fetchSearchData, API_KEY } from './js/pixabay-api';\nimport { renderImageMarkup } from './js/render-functions';\n\nconst search_form = document.getElementById('search-form');\nsearch_form.addEventListener('submit', search_image);\n\nfunction search_image(event) {\n  event.preventDefault();\n\n  const search_phrase = event.currentTarget.elements.query.value;\n  fetchSearchData(search_phrase).then(data => {\n    console.log(data);\n    renderImageMarkup(data);\n  });\n}\n"],"names":["API_BASE_URL","API_KEY","fetchSearchData","search_phrase","request_options","queryParams","request_url","response","data","errorText","showError","error","iziToast","gallery","gallery_config","lightbox","SimpleLightbox","renderImageMarkup","images","galleryMarkup","img","search_form","search_image","event"],"mappings":"6vBAGA,MAAMA,EAAe,2BAERC,EAAU,qCAEhB,SAASC,EAAgBC,EAAe,CAC7C,MAAMC,EAAkB,CACtB,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACb,EACKE,EAAc,IAAI,gBAAgBD,CAAe,EAAE,SAAU,EAC7DE,EAAc,GAAGN,CAAY,IAAIK,CAAW,GAClD,OAAO,MAAMC,CAAW,EACrB,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAG1D,OAAOA,EAAS,KAAM,CACvB,CAAA,EACA,KAAKC,GAAQ,CACZ,GAAI,CAACA,EAAK,MAAQA,EAAK,KAAK,SAAW,EAAG,CACxC,MAAMC,EACJ,2EACF,MAAAC,EAAUD,CAAS,EACb,IAAI,MAAMA,CAAS,CACjC,CACM,OAAOD,EAAK,IACb,CAAA,EACA,MAAMG,GAAS,QAAQ,MAAM,uBAAwBA,CAAK,CAAC,CAChE,CAEA,SAASD,EAAUD,EAAW,CAC5BG,EAAS,KAAK,CACZ,MAAO,SACP,QAASH,EACT,gBAAiB,MACjB,WAAY,QACZ,aAAc,QACd,SAAU,UACd,CAAG,CACH,CC3CA,MAAMI,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAiB,CACrB,aAAc,MACd,aAAc,GAChB,EACMC,EAAW,IAAIC,EAAe,aAAcF,CAAc,EAEzD,SAASG,EAAkBC,EAAQ,CAExC,GADAH,EAAS,QAAS,EACd,CAACG,GAAUA,EAAO,SAAW,EAAG,CAClCL,EAAQ,UAAY,GACpB,MACJ,CAEE,MAAMM,EAAgBD,EACnB,IACCE,GAAO;AAAA;AAAA,sCAEyBA,EAAI,aAAa;AAAA;AAAA;AAAA,iBAGtCA,EAAI,YAAY;AAAA,iBAChBA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA,kEAIyCA,EAAI,KAAK;AAAA,kEACTA,EAAI,KAAK;AAAA,qEACNA,EAAI,QAAQ;AAAA,sEACXA,EAAI,SAAS;AAAA;AAAA;AAAA,GAInF,EACK,KAAK,EAAE,EAEVP,EAAQ,mBAAmB,YAAaM,CAAa,CACvD,CCrCA,MAAME,EAAc,SAAS,eAAe,aAAa,EACzDA,EAAY,iBAAiB,SAAUC,CAAY,EAEnD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAgB,EAEtB,MAAMpB,EAAgBoB,EAAM,cAAc,SAAS,MAAM,MACzDrB,EAAgBC,CAAa,EAAE,KAAKK,GAAQ,CAC1C,QAAQ,IAAIA,CAAI,EAChBS,EAAkBT,CAAI,CAC1B,CAAG,CACH"}